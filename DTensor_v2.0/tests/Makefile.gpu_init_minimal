# Minimal core objects WITHOUT the broken tensor_ops_bridge
CORE_SRCS_MINIMAL = \
    $(PARENT_DIR)/tensor/dtensor.cpp \
    $(PARENT_DIR)/tensor/device_mesh.cpp \
    $(PARENT_DIR)/process_group/process_group_nccl.cpp \
    $(PARENT_DIR)/process_group/stream_pool.cpp \
    $(PARENT_DIR)/process_group/error_handler.cpp \
    $(PARENT_DIR)/memory/cachingAllocator.cpp

CORE_OBJS_MINIMAL = $(CORE_SRCS_MINIMAL:.cpp=.o)

# Special target for GPU init test (avoiding broken bridge)
test_gpu_native_init_minimal: $(TEST_GPU_INIT_OBJ) $(CORE_OBJS_MINIMAL) $(TENSOR_LIB_A)
	@echo "\n[LINKING] test_gpu_native_init (minimal - no bridge)"
	$(NVCC_LINKER) $(NVCC_LINK_FLAGS) -o $@ $^ $(LIB_PATHS) $(LIBS)
	@echo "[SUCCESS] test_gpu_native_init built successfully!"
